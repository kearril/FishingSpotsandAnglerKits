<?xml version="1.0" encoding="utf-8"?>
<Defs>

  <!-- 钓鱼点-->
  <ThingDef ParentName="BuildingBase">
    <defName>FishingSpot</defName>
    <label>Fishing Spot</label>
    <description>A fishing spot where your colonists will prioritize fishing. Can only be placed
      next to a fishing area</description>
    <graphicData>
      <texPath>FishingSpot</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <terrainAffordanceNeeded>Walkable</terrainAffordanceNeeded>
    <altitudeLayer>FloorEmplacement</altitudeLayer>
    <statBases>
      <WorkToBuild>0</WorkToBuild>
    </statBases>
    <researchPrerequisites>
      <li>Fishing</li>
    </researchPrerequisites>
    <rotatable>false</rotatable>
    <scatterableOnMapGen>false</scatterableOnMapGen>
    <useHitPoints>false</useHitPoints>
    <designationCategory>Misc</designationCategory>
    <uiOrder>2000</uiOrder>
    <passability>Standable</passability>
    <drawGUIOverlay>true</drawGUIOverlay>
    <building>
      <isEdifice>false</isEdifice>
      <sowTag>SupportPlantsOnly</sowTag>
      <canPlaceOverImpassablePlant>false</canPlaceOverImpassablePlant>
      <ai_chillDestination>false</ai_chillDestination>
      <wakeDormantPawnsOnConstruction>false</wakeDormantPawnsOnConstruction>
      <artificialForMeditationPurposes>false</artificialForMeditationPurposes>
    </building>
    <placeWorkers>
      <li>FishingSpotsandAnglerKits.PlaceWorker_FishingSpot</li>
    </placeWorkers>
  </ThingDef>

  <!-- 钓鱼椅-->
  <ThingDef ParentName="ArtableFurnitureBase">
    <defName>Fishermansfoldingchair</defName>
    <label>Fisherman's folding chair</label>
    <description>A small chair that provides some comfort to colonists while they are fishing. Can
      only be built at a fishing spot.</description>
    <passability>Standable</passability>
    <terrainAffordanceNeeded>Walkable</terrainAffordanceNeeded>
    <graphicData>
      <texPath>Fishermansfoldingchair</texPath>
      <graphicClass>Graphic_Multi</graphicClass>
      <drawSize>(1,1)</drawSize>
      <damageData>
        <rectN>(0.25,0.234375,0.5,0.28125)</rectN>
        <rectS>(0.25,0.234375,0.5,0.28125)</rectS>
        <rectE>(0.28125,0.25,0.453125,0.25)</rectE>
        <rectW>(0.28125,0.25,0.453125,0.25)</rectW>
      </damageData>
      <shadowData>
        <volume>(0.23, 0.26, 0.23)</volume>
      </shadowData>
    </graphicData>
    <altitudeLayer>Building</altitudeLayer>
    <statBases>
      <MaxHitPoints>75</MaxHitPoints>
      <WorkToBuild>450</WorkToBuild>
      <Mass>3</Mass>
      <Flammability>0.4</Flammability>
      <Beauty>10</Beauty>
      <Comfort>0.6</Comfort>
    </statBases>
    <researchPrerequisites>
      <li>Fishing</li>
    </researchPrerequisites>
    <socialPropernessMatters>true</socialPropernessMatters>
    <costList>
      <Steel>20</Steel>
    </costList>
    <stuffCategories>
      <li>Fabric</li>
      <li>Leathery</li>
    </stuffCategories>
    <costStuffCount>30</costStuffCount>
    <pathCost>30</pathCost>
    <uiOrder>2400</uiOrder>
    <fillPercent>0.20</fillPercent>
    <building>

      <isSittable>true</isSittable>
      <paintable>true</paintable>
      <isEdifice>true</isEdifice>
    </building>
    <placeWorkers>
      <li>FishingSpotsandAnglerKits.PlaceWorker_OnlyOnFishingSpot</li>
    </placeWorkers>
  </ThingDef>

  <!-- 饵料盒-->
  <ThingDef ParentName="BuildingBase">
    <defName>BaitBox</defName>
    <label>Bait Box</label>
    <description>A fishing bait box, which contains bait and can provide fishing speed bonus to
      surrounding colonists.You can use Kibble or Megaspider Meat to fill.</description>
    <tickerType>Normal</tickerType>
    <terrainAffordanceNeeded>Walkable</terrainAffordanceNeeded>
    <drawerType>RealtimeOnly</drawerType>
    <fillPercent>0.8</fillPercent>
    <graphicData>
      <texPath>BaitBox</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>(1,1)</drawSize>
      <color>(0.6, 0.74, 0.11, 1.0)</color>

      <shadowData>
        <volume>(0.8, 0.35, 0.8)</volume>
        <offset>(0, 0, -0.2)</offset>
      </shadowData>
    </graphicData>
    <altitudeLayer>Building</altitudeLayer>
    <passability>PassThroughOnly</passability>
    <building>
      <ai_chillDestination>false</ai_chillDestination>

    </building>
    <constructionSkillPrerequisite>5</constructionSkillPrerequisite>
    <designationCategory>Misc</designationCategory>
    <uiOrder>2000</uiOrder>
    <minifiedDef>MinifiedThing</minifiedDef>
    <rotatable>false</rotatable>
    <thingCategories>
      <li>BuildingsMisc</li>
    </thingCategories>
    <statBases>
      <MaxHitPoints>150</MaxHitPoints>
      <WorkToBuild>500</WorkToBuild>
      <Mass>3</Mass>
      <Flammability>0.2</Flammability>
    </statBases>
    <size>(1,1)</size>
    <costList>
      <Steel>20</Steel>
      <WoodLog>30</WoodLog>
    </costList>
    <researchPrerequisites>
      <li>Fishing</li>
    </researchPrerequisites>
    <comps>
      <li Class="CompProperties_Refuelable">
        <fuelConsumptionRate>75</fuelConsumptionRate>
        <fuelCapacity>150</fuelCapacity>
        <consumeFuelOnlyWhenUsed>true</consumeFuelOnlyWhenUsed>
        <autoRefuelPercent>0.75</autoRefuelPercent>
        <fuelFilter>
          <thingDefs>
            <li>Meat_Megaspider</li>
            <li>Kibble</li>
          </thingDefs>
        </fuelFilter>
        <showAllowAutoRefuelToggle>true</showAllowAutoRefuelToggle>
        <canEjectFuel>true</canEjectFuel>
      </li>
      <li Class="FishingSpotsandAnglerKits.CompProperties_CauseHediff_AoE_RefuelOnly">
        <range>1.5</range>
        <hediff>Thetasteofthesea</hediff>

      </li>

    </comps>
    <placeWorkers>
      <li>FishingSpotsandAnglerKits.PlaceWorker_ShowCauseHediffAoE_RefuelOnly</li>
    </placeWorkers>
    <drawPlaceWorkersWhileSelected>true</drawPlaceWorkersWhileSelected>
  </ThingDef>

  <HediffDef>
    <defName>Thetasteofthesea</defName>
    <label>The taste of the sea</label>
    <description>Fish know the smell of bugs!</description>
    <hediffClass>HediffWithComps</hediffClass>
    <defaultLabelColor>(0.52, 1, 0.95)</defaultLabelColor>
    <comps>
      <li Class="HediffCompProperties_Disappears">
        <disappearsAfterTicks>150</disappearsAfterTicks>
        <showRemainingTime>false</showRemainingTime>
      </li>
      <li Class="HediffCompProperties_DisappearsOnDeath" />
      <li Class="HediffCompProperties_Link">
        <requireLinkOnOtherPawn>false</requireLinkOnOtherPawn>
      </li>
    </comps>
    <stages>
      <li>
        <statFactors>
          <FishingSpeed>1.5</FishingSpeed>
        </statFactors>
      </li>
    </stages>
    <isBad>false</isBad>
  </HediffDef>

  <!-- 金钓竿-->

  <ThingDef ParentName="BaseMeleeWeapon_Sharp_Quality">
    <defName>GoldenFishingRod</defName>
    <label>Golden Fishing Rod</label>
    <techLevel>Neolithic</techLevel>
    <description>This is a magical fishing rod that brings good luck to people</description>
    <graphicData>
      <texPath>Golden_Fishing_Rod</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <uiIconScale>1.6</uiIconScale>
    <weaponTags>
      <li>mofadiaoyugan</li>
    </weaponTags>
    <weaponClasses>
      <li>Neolithic</li>
    </weaponClasses>
    <costList>
      <Gold>30</Gold>
      <Jade>50</Jade>
      <Cloth>100</Cloth>
    </costList>
    <statBases>
      <WorkToMake>18000</WorkToMake>
      <Mass>3</Mass>
      <MarketValue>4000</MarketValue>
    </statBases>
    <equippedAngleOffset>-65</equippedAngleOffset>

    <burnableByRecipe>false</burnableByRecipe>
    <tools>
      <li>
        <label>handle</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>9</power>
        <cooldownTime>2</cooldownTime>
      </li>
    </tools>
    <recipeMaker>
      <researchPrerequisite>Fishing</researchPrerequisite>
      <skillRequirements>
        <Crafting>12</Crafting>
      </skillRequirements>
      <displayPriority>450</displayPriority>
      <recipeUsers>
        <li>ElectricSmithy</li>
        <li>FueledSmithy</li>
      </recipeUsers>
    </recipeMaker>
    <comps>
      <li Class="FishingSpotsandAnglerKits.CompProperties_GiveHediffOnEquip">
        <hediffDefs>
          <li>SeasFavor</li>
        </hediffDefs>

      </li>
    </comps>
  </ThingDef>

  <HediffDef>
    <defName>SeasFavor</defName>
    <label>Sea's Favor</label>
    <description>Grace of the Sea, this character gains a lucky bonus</description>
    <hediffClass>HediffWithComps</hediffClass>
    <defaultLabelColor>(0.52, 1, 0.95)</defaultLabelColor>
    <comps>
      <li Class="HediffCompProperties_DisappearsOnDeath" />
    </comps>
    <stages>
      <li>
        <statFactors>
          <FishingRareMultiplier>8</FishingRareMultiplier>
        </statFactors>

        <statOffsets>
          <FishingYield>0.3</FishingYield>
        </statOffsets>

      </li>
    </stages>
    <isBad>false</isBad>
  </HediffDef>


  <StatDef>
    <defName>FishingRareMultiplier</defName>
    <label>Fishing Rare Multiplier</label>
    <description>The original rare probability is 1%, this multiplier is used to increase the rare
      probability. The final settlement probability is 1%*this value</description>
    <category>PawnWork</category>
    <minValue>1</minValue>
    <toStringStyle>PercentZero</toStringStyle>
    <displayPriorityInCategory>4310</displayPriorityInCategory>
  </StatDef>


  <EffecterDef>
    <defName>GoldenFishing</defName>
    <children>
      <li>
        <subEffecterClass>SubEffecter_SprayerTriggered</subEffecterClass>
        <!-- Using this typeinstead of InteractSymbol to get better positioning -->
        <spawnLocType>OnSource</spawnLocType>
        <maxMoteCount>1</maxMoteCount>
        <destroyMoteOnCleanup>True</destroyMoteOnCleanup>
        <positionOffset>(0, 0, .55)</positionOffset>
        <moteDef>Mote_GoldenFishingRod</moteDef>
        <angle>0</angle>
        <rotation>0</rotation>
        <absoluteAngle>True</absoluteAngle>
        <attachToSpawnThing>true</attachToSpawnThing>
        <useTargetAInitialRotation>true</useTargetAInitialRotation>
        <perRotationOffsets>
          <li>(0, -1, 0)</li>
          <li>(0, 0.1, 0)</li>
          <li>(0, 1, 0)</li> <!-- make it render above the pawn when the pawn is facing south -->
          <li>(0, 0.1, 0)</li>
        </perRotationOffsets>
      </li>
    </children>
  </EffecterDef>

  <ThingDef ParentName="MoteBase">
    <defName>Mote_GoldenFishingRod</defName>
    <thingClass>MoteAttached</thingClass>
    <altitudeLayer>Pawn</altitudeLayer>
    <drawOffscreen>true</drawOffscreen>
    <mote>
      <updateOffsetToMatchTargetRotation>True</updateOffsetToMatchTargetRotation>
      <solidTime>600</solidTime>
      <rotateTowardsTarget>true</rotateTowardsTarget>
      <yFightingOffsetScalar01>0</yFightingOffsetScalar01>
    </mote>
    <graphicData>
      <graphicClass>Graphic_Multi</graphicClass>
      <texPath>GoldenFishingRod</texPath>
    </graphicData>
  </ThingDef>

</Defs>